(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32acc1b6"],{"058d":function(t,e,n){},"159b":function(t,e,n){var o=n("da84"),r=n("fdbc"),a=n("17c2"),i=n("9112");for(var c in r){var s=o[c],l=s&&s.prototype;if(l&&l.forEach!==a)try{i(l,"forEach",a)}catch(u){l.forEach=a}}},"17c2":function(t,e,n){"use strict";var o=n("b727").forEach,r=n("a640"),a=n("ae40"),i=r("forEach"),c=a("forEach");t.exports=i&&c?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},"228d":function(t,e,n){},2423:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var o=n("b775"),r=function(t){return o["a"].get("/app/v1_1/articles",{params:t})},a=function(t){return o["a"].get("/app/v1_0/articles/".concat(t))}},"25f0":function(t,e,n){"use strict";var o=n("6eeb"),r=n("825a"),a=n("d039"),i=n("ad6d"),c="toString",s=RegExp.prototype,l=s[c],u=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),m=l.name!=c;(u||m)&&o(RegExp.prototype,c,(function(){var t=r(this),e=String(t.source),n=t.flags,o=String(void 0===n&&t instanceof RegExp&&!("flags"in s)?i.call(t):n);return"/"+e+"/"+o}),{unsafe:!0})},2909:function(t,e,n){"use strict";function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function r(t){if(Array.isArray(t))return o(t)}n.d(e,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n("fb6a"),n("b0c0"),n("25f0");function i(t,e){if(t){if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return r(t)||a(t)||i(t)||c()}},"38c8":function(t,e,n){},"3ca3":function(t,e,n){"use strict";var o=n("6547").charAt,r=n("69f3"),a=n("7dd0"),i="String Iterator",c=r.set,s=r.getterFor(i);a(String,"String",(function(t){c(this,{type:i,string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=o(n,r),e.index+=t.length,{value:t,done:!1})}))},4160:function(t,e,n){"use strict";var o=n("23e7"),r=n("17c2");o({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"483b":function(t,e,n){},"4df4":function(t,e,n){"use strict";var o=n("0366"),r=n("7b0b"),a=n("9bdd"),i=n("e95a"),c=n("50c4"),s=n("8418"),l=n("35a1");t.exports=function(t){var e,n,u,m,f,d,p=r(t),g="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,v=void 0!==b,y=l(p),_=0;if(v&&(b=o(b,h>2?arguments[2]:void 0,2)),void 0==y||g==Array&&i(y))for(e=c(p.length),n=new g(e);e>_;_++)d=v?b(p[_],_):p[_],s(n,_,d);else for(m=y.call(p),f=m.next,n=new g;!(u=f.call(m)).done;_++)d=v?a(m,b,[u.value,_],!0):u.value,s(n,_,d);return n.length=_,n}},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"56d3":function(t,e,n){"use strict";var o=n("5b93"),r=n.n(o);r.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var o=n("1d80"),r=n("5899"),a="["+r+"]",i=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),s=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},"5b93":function(t,e,n){},6547:function(t,e,n){var o=n("a691"),r=n("1d80"),a=function(t){return function(e,n){var a,i,c=String(r(e)),s=o(n),l=c.length;return s<0||s>=l?t?"":void 0:(a=c.charCodeAt(s),a<55296||a>56319||s+1===l||(i=c.charCodeAt(s+1))<56320||i>57343?t?c.charAt(s):a:t?c.slice(s,s+2):i-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},7156:function(t,e,n){var o=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var a,i;return r&&"function"==typeof(a=e.constructor)&&a!==n&&o(i=a.prototype)&&i!==n.prototype&&r(t,i),t}},7250:function(t,e,n){"use strict";var o=n("d489"),r=n.n(o);r.a},"780c":function(t,e,n){"use strict";var o=n("058d"),r=n.n(o);r.a},a630:function(t,e,n){var o=n("23e7"),r=n("4df4"),a=n("1c7e"),i=!a((function(t){Array.from(t)}));o({target:"Array",stat:!0,forced:i},{from:r})},a9e3:function(t,e,n){"use strict";var o=n("83ab"),r=n("da84"),a=n("94ca"),i=n("6eeb"),c=n("5135"),s=n("c6b6"),l=n("7156"),u=n("c04e"),m=n("d039"),f=n("7c73"),d=n("241c").f,p=n("06cf").f,g=n("9bf2").f,h=n("58a8").trim,b="Number",v=r[b],y=v.prototype,_=s(f(y))==b,w=function(t){var e,n,o,r,a,i,c,s,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=h(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+l}for(a=l.slice(2),i=a.length,c=0;c<i;c++)if(s=a.charCodeAt(c),s<48||s>r)return NaN;return parseInt(a,o)}return+l};if(a(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var C,O=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof O&&(_?m((function(){y.valueOf.call(n)})):s(n)!=b)?l(new v(w(e)),n,O):w(e)},k=o?d(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;k.length>S;S++)c(v,C=k[S])&&!c(O,C)&&g(O,C,p(v,C));O.prototype=y,y.constructor=O,i(r,b,O)}},ad6d:function(t,e,n){"use strict";var o=n("825a");t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,n){var o=n("83ab"),r=n("9bf2").f,a=Function.prototype,i=a.toString,c=/^\s*function ([^ (]*)/,s="name";o&&!(s in a)&&r(a,s,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return""}}})},b64b:function(t,e,n){var o=n("23e7"),r=n("7b0b"),a=n("df75"),i=n("d039"),c=i((function(){a(1)}));o({target:"Object",stat:!0,forced:c},{keys:function(t){return a(r(t))}})},bde0:function(t,e,n){"use strict";var o=n("483b"),r=n.n(o);r.a},c24f:function(t,e,n){"use strict";n.d(e,"m",(function(){return r})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return i})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return s})),n.d(e,"n",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"k",(function(){return m})),n.d(e,"b",(function(){return f})),n.d(e,"j",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return g})),n.d(e,"l",(function(){return h})),n.d(e,"i",(function(){return b})),n.d(e,"o",(function(){return v})),n.d(e,"p",(function(){return y}));var o=n("b775"),r=function(t){return o["a"].post("/app/v1_0/authorizations",t)},a=function(t){return o["a"].get("/app/v1_0/sms/codes/".concat(t))},i=function(){return o["a"].get("/app/v1_0/user")},c=function(){return o["a"].get("/app/v1_0/user/channels")},s=function(t){return o["a"].get("/app/v1_0/channels")},l=function(t){return Object(o["a"])({method:"PATCH",url:"/app/v1_0/user/channels",data:{channels:t}})},u=function(t){return o["a"].delete("/app/v1_0/user/channels/".concat(t))},m=function(t){return o["a"].post("/app/v1_0/user/followings",{target:t})},f=function(t){return o["a"].delete("/app/v1_0/user/followings/".concat(t))},d=function(t){return o["a"].post("/app/v1_0/article/collections",{target:t})},p=function(t){return o["a"].delete("/app/v1_0/article/collections/".concat(t))},g=function(t){return o["a"].post("/app/v1_0/article/dislikes",{target:t})},h=function(t){return o["a"].post("/app/v1_0/article/likings",{target:t})},b=function(){return o["a"].get("/app/v1_0/user/profile")},v=function(t){return o["a"].patch("/app/v1_0/user/profile",t)},y=function(t){return o["a"].patch("/app/v1_0/user/photo",t)}},cf78:function(t,e,n){"use strict";var o=n("228d"),r=n.n(o);r.a},d28b:function(t,e,n){var o=n("746f");o("iterator")},d489:function(t,e,n){},dbb4:function(t,e,n){var o=n("23e7"),r=n("83ab"),a=n("56ef"),i=n("fc6a"),c=n("06cf"),s=n("8418");o({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,n,o=i(t),r=c.f,l=a(o),u={},m=0;while(l.length>m)n=r(o,e=l[m++]),void 0!==n&&s(u,e,n);return u}})},ddb0:function(t,e,n){var o=n("da84"),r=n("fdbc"),a=n("e260"),i=n("9112"),c=n("b622"),s=c("iterator"),l=c("toStringTag"),u=a.values;for(var m in r){var f=o[m],d=f&&f.prototype;if(d){if(d[s]!==u)try{i(d,s,u)}catch(g){d[s]=u}if(d[l]||i(d,l,m),r[m])for(var p in a)if(d[p]!==a[p])try{i(d,p,a[p])}catch(g){d[p]=a[p]}}}},e439:function(t,e,n){var o=n("23e7"),r=n("d039"),a=n("fc6a"),i=n("06cf").f,c=n("83ab"),s=r((function(){i(1)})),l=!c||s;o({target:"Object",stat:!0,forced:l,sham:!c},{getOwnPropertyDescriptor:function(t,e){return i(a(t),e)}})},ee13:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-container"},[n("van-nav-bar",{staticClass:"page-nav-bar",attrs:{"left-arrow":"",title:"头条新闻"},on:{"click-left":t.back}}),n("div",{staticClass:"main-wrap"},[t.loading?n("div",{staticClass:"loading-wrap"},[n("van-loading",{attrs:{color:"#3296fa",vertical:""}},[t._v("加载中")])],1):t.articleDatil.art_id?n("div",{staticClass:"article-detail"},[n("h1",{staticClass:"article-title"},[t._v(t._s(t.articleDatil.title))]),n("van-cell",{staticClass:"user-info",attrs:{center:"",border:!1}},[n("van-image",{staticClass:"avatar",attrs:{slot:"icon",round:"",fit:"cover",src:t.articleDatil.aut_photo},slot:"icon"}),n("div",{staticClass:"user-name",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.articleDatil.aut_name))]),n("div",{staticClass:"publish-date",attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t._f("format")(t.articleDatil.pubdate))+" ")]),n("attention-button",{staticClass:"follow-btn",attrs:{is_followed:t.articleDatil.is_followed,followed_id:t.articleDatil.aut_id},on:{setIsFollowed:function(e){t.articleDatil.is_followed=e}}})],1),n("div",{ref:"contentRef",staticClass:"article-content markdown-body",domProps:{innerHTML:t._s(t.articleDatil.content)}}),n("van-divider",[t._v("正文结束")]),n("comment-list",{attrs:{type:"a",newOneComment:t.newOneComment,artId:t.articleDatil.art_id},on:{setTotalCount:function(e){t.pinglunInfo=e}}}),t.isComentPostShow?n("van-popup",{attrs:{position:"bottom"},model:{value:t.isComentPostShow,callback:function(e){t.isComentPostShow=e},expression:"isComentPostShow"}},[n("comment-post",{attrs:{artId:t.articleDatil.art_id},on:{addOneComment:t.addOneComment}})],1):t._e(),t.isComemntByCommentPopShow?n("van-popup",{staticClass:"commentBycommont",attrs:{duration:3,position:"bottom"},model:{value:t.isComemntByCommentPopShow,callback:function(e){t.isComemntByCommentPopShow=e},expression:"isComemntByCommentPopShow"}},[n("comment-by-comment-post",{on:{addOneComment:t.addOneComment}})],1):t._e(),t.isReplyPostShow?n("van-popup",{attrs:{position:"bottom"},model:{value:t.isReplyPostShow,callback:function(e){t.isReplyPostShow=e},expression:"isReplyPostShow"}},[n("comment-post",{attrs:{artId:t.comment.com_id,artIdfromReply:t.articleId},on:{addOneComment:t.addOneComment}})],1):t._e(),t.show?n("van-popup",{style:{height:"100%"},attrs:{value:t.show,position:"bottom"}},[n("van-nav-bar",{attrs:{title:t.comment.reply_count>0?t.comment.reply_count+"条回复":"暂无回复"},on:{"click-left":t.onClickLeft}},[n("van-icon",{attrs:{slot:"left",name:"cross"},slot:"left"})],1),n("div",{staticClass:"scroll"},[n("comment-reply",{attrs:{newOneComment:t.newOneCommentByRpley}})],1),n("div",{staticClass:"replyFooter"},[n("van-button",{attrs:{round:"",size:"small"},on:{click:function(e){t.isReplyPostShow=!0}}},[t._v("写评论")])],1)],1):t._e(),n("div",{staticClass:"article-bottom"},[n("van-button",{staticClass:"comment-btn",attrs:{type:"default",round:"",size:"small"},on:{click:function(e){t.isComentPostShow=!0}}},[t._v("写评论")]),n("van-icon",{attrs:{name:"comment-o",info:t.pinglunInfo,color:"#777"}}),n("my-collect",{attrs:{followed_id:t.articleDatil.art_id},model:{value:t.articleDatil.is_collected,callback:function(e){t.$set(t.articleDatil,"is_collected",e)},expression:"articleDatil.is_collected"}}),n("my-liking",{attrs:{followed_id:t.articleDatil.art_id},model:{value:t.articleDatil.attitude,callback:function(e){t.$set(t.articleDatil,"attitude",e)},expression:"articleDatil.attitude"}}),n("van-icon",{attrs:{name:"share",color:"#777777"},on:{click:t.share}})],1)],1):404===t.status?n("div",{staticClass:"error-wrap"},[n("van-icon",{attrs:{name:"failure"}}),n("p",{staticClass:"text"},[t._v("该资源不存在或已删除！")])],1):n("div",{staticClass:"error-wrap"},[n("van-icon",{attrs:{name:"failure"}}),n("p",{staticClass:"text"},[t._v("内容加载失败！")]),n("van-button",{staticClass:"retry-btn",on:{click:t.getDatil}},[t._v("点击重试")])],1)])],1)},r=[],a=(n("4160"),n("a9e3"),n("d3b7"),n("25f0"),n("159b"),n("96cf"),n("1da1")),i=n("5530"),c=n("2423"),s=n("28a2"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.is_followed?n("van-button",{attrs:{round:"",size:"small",loading:t.loading,type:"default"},on:{click:t.followToggel}},[t._v("已关注")]):n("van-button",{attrs:{round:"",size:"small",icon:"plus",type:"info",loading:t.loading},on:{click:t.followToggel}},[t._v("关注")])},u=[],m=n("c24f"),f={props:["is_followed","followed_id"],data:function(){return{loading:!1}},methods:{followToggel:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t.followed_id),!t.is_followed){e.next=14;break}return e.prev=2,t.loading=!0,e.next=6,Object(m["b"])(t.followed_id);case 6:t.$emit("setIsFollowed",!t.is_followed),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),t.$toast.fail("取消关注失败！");case 12:e.next=24;break;case 14:return e.prev=14,t.loading=!0,e.next=18,Object(m["k"])(t.followed_id);case 18:t.$emit("setIsFollowed",!t.is_followed),e.next=24;break;case 21:e.prev=21,e.t1=e["catch"](14),401===e.t1.response.status?t.$toast.fail("请登录后再试试！"):400===e.t1.response.status?t.$toast.fail("你不能关注自己！"):t.$toast.fail("关注失败！");case 24:t.loading=!1;case 25:case"end":return e.stop()}}),e,null,[[2,9],[14,21]])})))()}}},d=f,p=n("2877"),g=Object(p["a"])(d,l,u,!1,null,"546f23de",null),h=g.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-button",{class:t.iscollect?"active":"",attrs:{icon:t.iscollect?"star":"star-o",loading:t.loading},on:{click:t.collectToggle}})},v=[],y={data:function(){return{loading:!1}},model:{prop:"iscollect",event:"change"},props:{iscollect:{type:Boolean,required:!0},followed_id:{type:[String,Number,Object],required:!0}},methods:{collectToggle:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.loading=!0,!t.iscollect){e.next=9;break}return e.next=5,Object(m["a"])(t.followed_id);case 5:t.$toast.success("取消收藏!"),t.$emit("change",!t.iscollect),e.next=13;break;case 9:return e.next=11,Object(m["j"])(t.followed_id);case 11:t.$toast.success("收藏成功!"),t.$emit("change",!t.iscollect);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),401===e.t0.response.status?t.$toast.fail("请登录后再试试！"):t.$toast.fail("操作失败！");case 18:return e.prev=18,t.loading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})))()}}},_=y,w=(n("cf78"),Object(p["a"])(_,b,v,!1,null,"2330c255",null)),C=w.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-button",{class:1===t.value?"active":"",attrs:{icon:1===t.value?"good-job":"good-job-o",loading:t.loading},on:{click:t.likingToggle}})},k=[],S={data:function(){return{loading:!1}},props:{value:{type:[String,Number]},followed_id:{type:[String,Number,Object],required:!0}},methods:{likingToggle:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.loading=!0,console.log(t.followed_id),1!==t.value){e.next=10;break}return e.next=6,Object(m["c"])(t.followed_id);case 6:t.$toast.success("取消点赞!"),t.$emit("input",-1),e.next=14;break;case 10:return e.next=12,Object(m["l"])(t.followed_id);case 12:t.$toast.success("点赞成功!"),t.$emit("input",1);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),401===e.t0.response.status?t.$toast.fail("请登录后再试试！"):t.$toast.fail("操作失败！");case 19:return e.prev=19,t.loading=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,16,19,22]])})))()}}},x=S,j=(n("780c"),Object(p["a"])(x,O,k,!1,null,"312acaec",null)),R=j.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-list",{attrs:{"immediate-check":!1,finished:t.finished,"finished-text":"没有更多了",error:t.error,"error-text":"请求失败，点击重新加载"},on:{load:t.onLoad,"update:error":function(e){t.error=e}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,o){return n("my-comment",{key:"a"+o,attrs:{comment:e},on:{changeLiking:function(n){return t.changeLiking(n,e)}}})})),1)},I=[],$=n("2909"),L=n("b775"),A=function(t){return L["a"].get("/app/v1_0/comments",{params:t})},E=function(t){return L["a"].delete("/app/v1_0/comment/likings/".concat(t))},D=function(t){return L["a"].post("/app/v1_0/comment/likings",{target:t})},T=function(t){return L["a"].post("/app/v1_0/comments",t)},M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-cell",[n("van-image",{staticStyle:{"margin-right":"10px"},attrs:{slot:"icon",round:"",width:"30",height:"30",src:t.comment.aut_photo},slot:"icon"}),n("span",{staticStyle:{color:"#466b9d"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.comment.aut_name))]),n("div",{attrs:{slot:"label"},slot:"label"},[n("p",{staticStyle:{color:"#363636"}},[t._v(t._s(t.comment.content))]),n("p",[n("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t._f("format")(t.comment.pubdate)))]),t.canPinglun?n("van-button",{staticClass:"replyComment",attrs:{size:"mini",type:"default",round:""},on:{click:function(e){return t.showReply(t.comment)}}},[t._v("回复 "),t.commentBycommentPopShow?t._e():n("span",[t._v(t._s(t.comment.reply_count))])]):t._e()],1)]),n("van-button",{class:t.comment.is_liking?"active":"",attrs:{slot:"right-icon",loading:t.loading,icon:t.comment.is_liking?"good-job":"good-job-o"},on:{click:function(e){return t.setLiking(t.comment.com_id)}},slot:"right-icon"},[t._v(" "+t._s(t.comment.like_count||"赞"))])],1)},N=[],B=n("2f62"),F={name:"MyComment",props:{comment:{type:Object,required:!0},canPinglun:{type:Boolean,default:function(t){return!t}}},components:{},data:function(){return{loading:!1,show:!1}},computed:{commentBycommentPopShow:function(){return this.$store.state.commentModules.show}},created:function(){},methods:Object(i["a"])(Object(i["a"])({},Object(B["b"])("commentModules",["showReply"])),{},{setLiking:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.loading=!0,n.prev=1,!e.comment.is_liking){n.next=8;break}return n.next=5,E(t);case 5:e.$emit("changeLiking",[!e.comment.is_liking,--e.comment.like_count]),n.next=11;break;case 8:return n.next=10,D(t);case 10:e.$emit("changeLiking",[!e.comment.is_liking,++e.comment.like_count]);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](1),e.$toast.fail("操作失败！");case 16:return n.prev=16,e.loading=!1,n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])})))()}})},q=F,V=(n("56d3"),Object(p["a"])(q,M,N,!1,null,"04d59d79",null)),G=V.exports,z={name:"comment-list",components:{MyComment:G},props:{newOneComment:{type:Object},artId:{type:[String,Number,Object],required:!0},type:{type:String,required:!0}},data:function(){return{queryInfo:{type:this.type,source:this.artId.toString(),offset:null,limit:10},list:[],error:!1,loading:!1,finished:!1}},created:function(){this.onLoad()},watch:{newOneComment:function(t){t&&this.list.unshift(t)}},methods:{changeLiking:function(t,e){e.is_liking=t[0],e.like_count=t[1]},onLoad:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t.queryInfo);case 3:o=e.sent,r=o.data,0===r.data.results.length&&(t.finished=!0),t.$emit("setTotalCount",r.data.total_count),(n=t.list).push.apply(n,Object($["a"])(r.data.results)),t.queryInfo.offset=r.data.last_id,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),t.error=!0;case 14:t.loading=!1;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}},H=z,U=Object(p["a"])(H,P,I,!1,null,"4fb8fb22",null),J=U.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-post"},[n("van-field",{staticClass:"post-field",attrs:{rows:"2",autosize:"",type:"textarea",maxlength:"50",placeholder:"请输入留言","show-word-limit":""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),n("van-button",{staticClass:"post-btn",attrs:{disabled:!t.message.trim().length},on:{click:t.commentSubmit}},[t._v("发布")])],1)},Y=[],K={name:"CommentPost",components:{},props:{artId:{type:[Object,String,Number],required:!0},artIdfromReply:{type:[Object,String,Number]}},data:function(){return{message:""}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{close:function(){this.$emit("closeCommentPop")},commentSubmit:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T({target:t.artId,content:t.message,art_id:t.artIdfromReply||null});case 3:n=e.sent,o=n.data,t.$toast.success("发布成功！"),t.message="",o&&t.$emit("addOneComment",o.data),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),401===e.t0.response.status?t.$toast.fail("请登录后再评论"):t.$toast.fail("评论失败！");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}}},Q=K,W=(n("bde0"),Object(p["a"])(Q,X,Y,!1,null,"f3c0f7e8",null)),Z=W.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-post"},[n("van-field",{staticClass:"post-field",attrs:{rows:"2",autosize:"",type:"textarea",maxlength:"50",placeholder:"@"+t.comemntByComment.aut_name+":"+t.comemntByComment.content,"show-word-limit":""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),n("van-button",{staticClass:"post-btn",attrs:{disabled:!t.message.trim().length},on:{click:t.commentSubmit}},[t._v("发布")])],1)},et=[],nt={name:"CommentPost",components:{},data:function(){return{message:""}},computed:Object(i["a"])({},Object(B["c"])("commentModules",["comemntByComment","comment","articleId"])),watch:{},created:function(){console.log(this.comemntByComment)},mounted:function(){},methods:{close:function(){this.$emit("closeCommentPop")},commentSubmit:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T({target:t.comment.com_id,content:t.message+"/@"+t.comemntByComment.aut_name+":"+t.comemntByComment.content,art_id:t.articleId});case 3:n=e.sent,o=n.data,t.$toast.success("发布成功！"),t.message="",o&&t.$emit("addOneComment",o.data),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),401===e.t0.response.status?t.$toast.fail("请登录后再评论"):t.$toast.fail("评论失败！");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}}},ot=nt,rt=(n("f527"),Object(p["a"])(ot,tt,et,!1,null,"216dd388",null)),at=rt.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("my-comment",{attrs:{comment:t.comment,canPinglun:!1},on:{changeLiking:function(e){return t.changeLiking(e,t.comment)}}}),n("van-cell",{attrs:{title:"全部评论"}}),n("comment-list",{attrs:{artId:t.comment.com_id,newOneComment:t.newOneComment,type:"c"}})],1)},ct=[],st={name:"comment-reply",props:{newOneComment:{type:Object}},components:{MyComment:G,CommentList:J},computed:Object(i["a"])({},Object(B["c"])("commentModules",["comment"])),created:function(){},methods:Object(i["a"])(Object(i["a"])({},Object(B["b"])("commentModules",["changeReplyLiking"])),{},{changeLiking:function(t){this.changeReplyLiking(t)}})},lt=st,ut=Object(p["a"])(lt,it,ct,!1,null,"84831de2",null),mt=ut.exports,ft={name:"MyArticle",components:{"attention-button":h,"my-collect":C,"my-liking":R,CommentList:J,CommentPost:Z,CommentReply:mt,CommentByCommentPost:at},props:{articleId:{loading:!1,type:[Number,String,Object],required:!0}},data:function(){return{newOneComment:{},newOneCommentByRpley:{},isComentPostShow:!1,isReplyPostShow:!1,status:0,loading:!1,articleDatil:[],pinglunInfo:0}},computed:Object(i["a"])(Object(i["a"])({},Object(B["c"])("commentModules",["show","comment"])),{},{isComemntByCommentPopShow:{get:function(){return this.$store.state.commentModules.isComemntByCommentPopShow},set:function(t){this.$store.commit("commentModules/setcombycomShow",t)}}}),watch:{articleId:{handler:function(t){this.setArticleId(t)},immediate:!0}},created:function(){this.getDatil()},mounted:function(){},methods:Object(i["a"])(Object(i["a"])({},Object(B["b"])("commentModules",["hideReply","setArticleId","addCommentReply"])),{},{onClickLeft:function(){this.hideReply()},addOneComment:function(t){this.isComentPostShow?(this.isComentPostShow=!1,this.newOneComment=t.new_obj,this.pinglunInfo++):this.isReplyPostShow?(this.isReplyPostShow=!1,this.newOneCommentByRpley=t.new_obj,this.addCommentReply()):(this.$store.commit("commentModules/setcombycomShow",!1),this.newOneCommentByRpley=t.new_obj,this.addCommentReply())},share:function(){this.$toast.fail("该功能尚未开发!")},back:function(){this.$router.push("/home")},getDatil:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,o,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,Object(c["b"])(t.articleId.toString());case 4:n=e.sent,o=n.data,r=[],setTimeout((function(){var e=t.$refs.contentRef.querySelectorAll("img");e.forEach((function(t,e){r.push(t.src),t.addEventListener("click",(function(){Object(s["a"])({images:r,startPosition:e,closeable:!0})}))}))}),0),t.articleDatil=o.data,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),404===(null===(a=e.t0.response)||void 0===a?void 0:a.status)&&(t.status=404);case 14:return e.prev=14,t.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))()}})},dt=ft,pt=(n("7250"),Object(p["a"])(dt,o,r,!1,null,"6b6b9fa2",null));e["default"]=pt.exports},f527:function(t,e,n){"use strict";var o=n("38c8"),r=n.n(o);r.a},fb6a:function(t,e,n){"use strict";var o=n("23e7"),r=n("861d"),a=n("e8b5"),i=n("23cb"),c=n("50c4"),s=n("fc6a"),l=n("8418"),u=n("b622"),m=n("1dde"),f=n("ae40"),d=m("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),h=[].slice,b=Math.max;o({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var n,o,u,m=s(this),f=c(m.length),d=i(t,f),p=i(void 0===e?f:e,f);if(a(m)&&(n=m.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?r(n)&&(n=n[g],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return h.call(m,d,p);for(o=new(void 0===n?Array:n)(b(p-d,0)),u=0;d<p;d++,u++)d in m&&l(o,u,m[d]);return o.length=u,o}})},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-32acc1b6.60ebee53.js.map